angular.module("nlTables",[]).directive("nlTables",function(){return{restrict:"A",template:"<span style='border: 0px'><table class='table table-striped table-bordered table-hover'><thead><tr><td ng-if='showTableIndex'>#</td><td ng-repeat='column in nltable.columns'>{{column.title}}</td></tr></thead><tbody><tr ng-repeat='row in nltable.data'><td ng-if='showTableIndex'>{{$index + 1}}</td><td ng-repeat='column in nltable.columns' ng-class='[true: '']{column.}' ng-bind-html='column.format ? trustAsHtml(column.format(row[column.name])) : trustAsHtml(row[column.name])'></td></tr></tbody></table><ul class='pagination' style='margin:0px;'><li ng-class='{disabled:(nltable.page == 1) }'><a ng-click='nltable.pre()'><span aria-hidden='true'>&laquo;</span></a></li><li ng-repeat='i in nltable.pages' ng-class='{active:(i.index == nltable.page)}'><a ng-click='nltable.go(i.index)'>{{i.text}}</a></li><li ng-class='{disabled:(nltable.page == nltable.pageCount) }'><a ng-click='nltable.next()' ><span aria-hidden='true'>&raquo;</span></li></a></ul></span>",replace:!0}}).factory("NLTables",function(){function t(t,e,a){var n={columns:t,pageRows:10,splitPages:2,pageCount:0,page:0,nextPage:a?a.page||1:1,prePage:a?a.page||1:1,go:function(t){if(this.page!=t){this.page=t;var n=this;a&&(a.page=t),e(a||{},function(t){n=angular.extend(n,t),n.build()})}},refresh:function(){var t=this;e(a||{},function(e){t=angular.extend(t,e),t.build()})},build:function(){var t=Math.ceil(this.rows/this.pageRows);this.pageCount=0==t?1:t;var e=new Array;this.splitPages=this.splitPages<=3?3:this.splitPages;for(var a=0,n=0;t>n&&(0!=n&&n+2<=this.page-this.splitPages?(e[a]={index:this.page-2*this.splitPages-1,text:"……"},n=this.page-this.splitPages-2):n==this.page+this.splitPages&&n+1!=this.pageCount?(e[a]={index:n+1+this.splitPages,text:"……"},n=t-2):e[a]={index:n+1,text:n+1},a++,!(a>20));n++);this.pages=e,this.nextPage=this.page+1>t?t:this.page+1,this.prePage=1==this.page?1:this.page-1},next:function(){this.page+1>this.pageCount||this.go(this.page+1)},pre:function(){1!=this.page&&this.go(this.page-1)},pages:[]};return n.go(a?a.page||1:1),n}return t});